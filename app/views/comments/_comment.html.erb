<%= turbo_frame_tag comment do %>
  <li>
    <div class="comment-card">
      <div class="comment-card__header">
        <%= display_name(comment.user) %>
        <%= display_date(comment.created_at) %>
      </div>
      <%= comment.body %>
      <% if comment.user == current_user %>
        <%= link_to "Edit", edit_post_comment_path(post_id: comment.commentable.id, id: comment.id) %>
        <%= button_to "Delete", comment_path(comment), method: :delete, form: { data: { turbo_confirm: 'Are you sure?' } } %>
      <% end %>
    </div>
    <%= link_to "Reply", new_comment_comment_path(comment_id: comment, parent_post_id: comment.parent_post_id), data: { turbo_frame: dom_id_for_records(comment, Comment.new) } %>
    <h3>replies</h3>
   
      <%= turbo_frame_tag dom_id_for_records(comment, Comment.new) %>
      <ul>
        <%= turbo_frame_tag "comment_#{comment.id}_comments" do %>
          <%= render comment.comments.includes(:user).order(created_at: :asc) %>
        <% end %>
      </ul>
  </li>
<% end %>